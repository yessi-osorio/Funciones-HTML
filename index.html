<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=ñphjkjhyj, initial-scale=1.0">
    <title>Desarrollo web</title>
</head>
<link rel="stylesheet" href="estilos.css" type="text/css">
<body>
 <h1>Funciones!</h1>
<p>Ingresa la cantidad de letras de tu nombre y apellido para verificar si tu nombre y apellido es par o impar</P> 
<br>
<div style="color: black;">
    <label form="nombre y apellidos">Nombre y apellidos:</label>
    <input type="text" id="valor" value="" placeholder="ingresa la cantidad de letras">
     <input type="submit" onclick="return parImpar()" value="funcion3">

    <br><br>
    <label form="apellidos">Apellidos:</label>
    <input name="apellidos" id="apellidos" type="text"/> 
    <button type="button4">Funcion4</button>

    <br><br>
    <p>Ingresa tu fecha de nacimiento</p>
    <br>
    <label form="Dia">Dia:</label>
<input type="date" name="user_date" id="user_date" />
 <input type="button" value="Funcion2" onclick="javascript:calcularEdad();" />

    <br><br>
    <label form="Mes">Mes:</label>
    <input name="Mes" id="Mes" type="number">
    <button type="button1">Funcion1</button>

    <br><br>
    <label form="Año">Año:</label>
    <input name="Año" id="Año" type="number">
    <button type="button5">Funcion5</button>

    <br><br>
   <h3>Aqui mostrara los resultados</h3>
   
   <script type="text/javascript">
/**
 * Funcion que devuelve true o false dependiendo de si la fecha es correcta.
 * Tiene que recibir el dia, mes y año
 */
function isValidDate(day,month,year)
{
    var dteDate;
 
    // En javascript, el mes empieza en la posicion 0 y termina en la 11 
    //   siendo 0 el mes de enero
    // Por esta razon, tenemos que restar 1 al mes
    month=month-1;
    // Establecemos un objeto Data con los valore recibidos
    // Los parametros son: año, mes, dia, hora, minuto y segundos
    // getDate(); devuelve el dia como un entero entre 1 y 31
    // getDay(); devuelve un num del 0 al 6 indicando siel dia es lunes,
    //   martes, miercoles ...
    // getHours(); Devuelve la hora
    // getMinutes(); Devuelve los minutos
    // getMonth(); devuelve el mes como un numero de 0 a 11
    // getTime(); Devuelve el tiempo transcurrido en milisegundos desde el 1
    //   de enero de 1970 hasta el momento definido en el objeto date
    // setTime(); Establece una fecha pasandole en milisegundos el valor de esta.
    // getYear(); devuelve el año
    // getFullYear(); devuelve el año
    dteDate=new Date(year,month,day);
 
    //Devuelva true o false...
    return ((day==dteDate.getDate()) && (month==dteDate.getMonth()) && (year==dteDate.getFullYear()));
}
 
/**
 * Funcion para validar una fecha
 * Tiene que recibir:
 *  La fecha en formato ingles yyyy-mm-dd
 * Devuelve:
 *  true-Fecha correcta
 *  false-Fecha Incorrecta
 */
function validate_fecha(fecha)
{
    var patron=new RegExp("^(19|20)+([0-9]{2})([-])([0-9]{1,2})([-])([0-9]{1,2})$");
 
    if(fecha.search(patron)==0)
    {
        var values=fecha.split("-");
        if(isValidDate(values[2],values[1],values[0]))
        {
            return true;
        }
    }
    return false;
}
 
/**
 * Esta función calcula la edad de una persona y los meses
 * La fecha la tiene que tener el formato yyyy-mm-dd que es
 * metodo que por defecto lo devuelve el <input type="date">
 */
function calcularEdad()
{
    var fecha=document.getElementById("user_date").value;
    if(validate_fecha(fecha)==true)
    {
        // Si la fecha es correcta, calculamos la edad
        var values=fecha.split("-");
        var dia = values[2];
        var mes = values[1];
        var ano = values[0];

        // cogemos los valores actuales
        var fecha_hoy = new Date();
        var ahora_ano = fecha_hoy.getYear();
        var ahora_mes = fecha_hoy.getMonth()+1;
        var ahora_dia = fecha_hoy.getDate();

        // realizamos el calculo
        var edad = (ahora_ano + 1900) - ano;
        if ( ahora_mes < mes )
        {
            edad--;
        }
        if ((mes == ahora_mes) && (ahora_dia < dia))
        {
            edad--;
        }
        if (edad > 1900)
        {
            edad -= 1900;
        }
 
        // calculamos los meses
        var meses=0;
        if(ahora_mes>mes)
            meses=ahora_mes-mes;
        if(ahora_mes<mes)
            meses=12-(mes-ahora_mes);
        if(ahora_mes==mes && dia>ahora_dia)
            meses=11;
 
        // calculamos los dias
        var dias=0;
        if(ahora_dia>dia)
            dias=ahora_dia-dia;
        if(ahora_dia<dia)
        {
            ultimoDiaMes=new Date(ahora_ano, ahora_mes, 0);
            dias=ultimoDiaMes.getDate()-(dia-ahora_dia);
        }
 
        document.getElementById("result").innerHTML="Tienes "+edad+" años, "+meses+" meses y "+dias+" días";
    }else{
        document.getElementById("result").innerHTML="La fecha "+fecha+" es incorrecta";
    }
}
</script>
 
    <!-- div donde mostraremos el resultado -->
    <div id="result"></div>
<br>
   <script>
   // funcion 3
	function parImpar()
	{
		var valor=parseInt(document.getElementById("valor").value);
		var letra=(valor%2)?"Impar":"Par";
		document.getElementById("resultado").innerHTML="Tu nombre y apellido es "+letra+" es "+letra; 
		return false;
	}
	</script>
</head>
<body>
 
<div id="resultado"></div>
<br>
<script type="text/javascript">
	// funcion 4
var palabraIntroducida = prompt("Introduce tu nombre y apellido al finalizar te mostrara cuantas vocales y consonantes tiene tu nombre y apellido");
var aCont= 0; 
var eCont= 0;
var iCont= 0;
var oCont= 0;
var uCont= 0;
var otrosCont = 0;


for (var i = 0 ; i < palabraIntroducida.length ; i++) {


	switch(palabraIntroducida.charAt(i)) {

		case "a":
		aCont++;
		break;

		case "e":
		eCont++;
		break;

		case "i":
		iCont++;
		break;

		case "o":
		oCont++;
		break;

		case "u":
		uCont++;
		break;

		default :
		otrosCont++;
        break;

	}

}

document.write("Totales de vocales que tiene su nombre y apellido es > <br> " + "A: " + aCont + "<br>E: " + eCont + "<br>I: " + iCont + "<br>O: " + oCont + "<br>U: " + 
uCont + "<br>totales de consonantes que tiene su nombre y apellido es: " + otrosCont);
</script>

<br><br>

<p>Aqui aparecera su nombre y apellido al reves<p/>
<script>
// funcion 5
    var cadena = prompt("Ingrese su nombre y apellido al finalizar le mostrara su nombre y apellido al reves :");
    var numchar = cadena.length;
    var j;
    var car;
    var salida = "";
    for (j = 0; j < numchar; j++) {
        car = cadena.charAt(j);    //recupera el caracter i del string.
        salida = car + salida;
    }
    document.write(salida);
</script>
   <div id="resultado"></div>
</body>
</html>